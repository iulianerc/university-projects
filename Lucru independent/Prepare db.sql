# create schema lucru_independent;
drop table if exists UNIVERSITATE;
CREATE TABLE UNIVERSITATE
(
UNIV_ID INT NOT NULL PRIMARY KEY,
UNIV_DEN VARCHAR(20),
RATING INT,
ORAS VARCHAR(20)
);

drop table if exists STUDENT;
CREATE TABLE STUDENT
(
ST_ID INT NOT NULL PRIMARY KEY,
NUME VARCHAR(20),
PRENUME VARCHAR(20),
BURSA INT,
ANUL INT,
ORAS VARCHAR(20),
DATA_N DATE,
UNIV_ID INT REFERENCES UNIVERSITATE
);

drop table if exists PROFESOR;
CREATE TABLE PROFESOR
(
PR_ID INT NOT NULL PRIMARY KEY,
NUME VARCHAR(20),
PRENUME VARCHAR(20),
ORAS VARCHAR(20),
UNIV_ID INT REFERENCES UNIVERSITATE
);

drop table if exists CURS;
CREATE TABLE CURS
(
CURS_ID INT NOT NULL PRIMARY KEY,
CURS_DEN VARCHAR(20),
ORE INT,
SEMESTRU INT
);

drop table if exists NOTE_EXAM;
CREATE TABLE NOTE_EXAM
(
EXAM_ID INT,
ST_ID INT REFERENCES STUDENT,
CURS_ID INT REFERENCES CURS,
NOTA INT,
DATA_EXAM DATE,
PRIMARY KEY (EXAM_ID, ST_ID)
);

drop table if exists CURS_PROF;
CREATE TABLE CURS_PROF
(
PR_ID INT REFERENCES PROFESOR,
CURS_ID INT REFERENCES CURS
);

INSERT INTO UNIVERSITATE VALUES (22, 'USM', 606, 'Chişinău');
INSERT INTO UNIVERSITATE VALUES (10, 'USB', 296, 'Bălţi');
INSERT INTO UNIVERSITATE VALUES (11, 'ULIM', 345, 'Chişinău');
INSERT INTO UNIVERSITATE VALUES (32, 'USC', 416, 'Cahul');
INSERT INTO UNIVERSITATE VALUES (14, 'USD', 326, 'Drochia');
INSERT INTO UNIVERSITATE VALUES (15, 'USC', 368, 'Chişinău');
INSERT INTO UNIVERSITATE VALUES (18, 'ВГМА', 327, 'Bălţi');

INSERT INTO PROFESOR VALUES (24, 'Iordachi', 'Boris', 'Bălţi', 10);
INSERT INTO PROFESOR VALUES (46, 'Nuca', 'Ion', 'Bălţi', 10);
INSERT INTO PROFESOR VALUES (74, 'Lăsescu', 'Pavel', 'Chişinău', 22);
INSERT INTO PROFESOR VALUES (108, 'Stănescu', 'Nicolai', 'Chişinău', 22);
INSERT INTO PROFESOR VALUES (276, 'Negrescu', 'Victor', 'Bălţi', 10);
INSERT INTO PROFESOR VALUES (328, 'Sorescu', 'Andrei', 'Оrhei', 10);

INSERT INTO STUDENT VALUES (1, 'Popescu', 'Ion', 150, 1, 'Orhei', str_to_date('3/12/1982', '%d/%m/%Y'), 10);
INSERT INTO STUDENT VALUES (3, 'Ionescu', 'Petru', 200, 3, 'Cahul', str_to_date('1/12/1980', '%m/%d/%Y'), 10);
INSERT INTO STUDENT VALUES (6, 'Sima', 'Vadim', 150, 4, 'Chişinău', str_to_date('7/06/1979', '%m/%d/%Y'), 22);
INSERT INTO STUDENT VALUES (10, 'Osman', 'Nicolai', 0, 2, 'Briceni', str_to_date('8/12/1981', '%m/%d/%Y'), 10);
INSERT INTO STUDENT VALUES (12, 'Casta', 'Olga', 250, 2, 'Lipcani', str_to_date('1/05/1981', '%m/%d/%Y'), 10);
INSERT INTO STUDENT VALUES (265, 'Mantes', 'Andrei', 0, 3, 'Bălţi', str_to_date('5/11/1979', '%m/%d/%Y'), 10);
INSERT INTO STUDENT VALUES (32, 'Colesnic', 'Petru', 150, 5, 'Drochia', NULL, 14);
INSERT INTO STUDENT VALUES (654, 'Luca', 'Artur', 200, 3, 'Bălţi', str_to_date('1/12/1981', '%m/%d/%Y'), 10);
INSERT INTO STUDENT VALUES (276, 'Petrescu', 'Elena', 200, 4, NULL, str_to_date('5/08/1981', '%m/%d/%Y'), 22);
INSERT INTO STUDENT VALUES (55, 'Bănescu', 'Vald', 250, 5, 'Bălţi', str_to_date('7/01/1980', '%m/%d/%Y'), 10);

INSERT INTO CURS VALUES (10, 'Informatica', 56, 1);
INSERT INTO CURS VALUES (22, 'Fizica', 34, 1);
INSERT INTO CURS VALUES (43, 'Matematica', 56, 2);
INSERT INTO CURS VALUES (56, 'Istoria', 34, 4);
INSERT INTO CURS VALUES (94, 'Limba Engleză', 56, 3);
INSERT INTO CURS VALUES (73, 'Educaţia fizică', 34, 5);

INSERT INTO NOTE_EXAM VALUES (145, 12, 10, 10, str_to_date('12/01/2000', '%d/%m/%Y'));
INSERT INTO NOTE_EXAM VALUES (34, 32, 10, 9, str_to_date('23/01/2000', '%d/%m/%Y'));
INSERT INTO NOTE_EXAM VALUES (75, 55, 10, 9, str_to_date('05/01/2000', '%d/%m/%Y'));
INSERT INTO NOTE_EXAM VALUES (238, 12, 22, 6, str_to_date('17/06/1999', '%d/%m/%Y'));
INSERT INTO NOTE_EXAM VALUES (639, 55, 22, NULL, str_to_date('22/06/1999', '%d/%m/%Y'));
INSERT INTO NOTE_EXAM VALUES (43, 6, 22, 5, str_to_date('18/01/2000', '%d/%m/%Y'));

INSERT INTO CURS_PROF VALUES (24, 10);
INSERT INTO CURS_PROF VALUES (46, 22);
INSERT INTO CURS_PROF VALUES (74, 43);
INSERT INTO CURS_PROF VALUES (108, 56);
INSERT INTO CURS_PROF VALUES (276, 73);
INSERT INTO CURS_PROF VALUES (328, 94);


